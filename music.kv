#:import utils kivy.utils

Screens:
    DownloadScreen:
    SongPlayerScreen:

<DownloadScreen>:
    name:"download"
    youtube_link:youtube_link

    GridLayout:
        cols: 1
        size: root.width, root.height

        MDToolbar:
            title: "Music on the go"
            pos_hint:{"top":1}
            left_action_items: [["menu", lambda x: app.callback()]]
            right_action_items: [["rotate-3d-variant", lambda x: app.callback()]]


        MDTextField:
            id: youtube_link
            background_color: utils.get_color_from_hex('#1D428A')
            color: "black"
            helper_text: "Paste the link of youtube video you want to download music from"
            helper_text_mode: "on_focus"
            multiline: False
            icon_right: 'youtube'
            size: 0.8, 1
            min_height: "300dp"



        Button:
            text: "Submit"
            font_size: 30
            on_press: root.download_youtube_url()
            background_color: utils.get_color_from_hex('#0E2240')
            size: 800, 150
            size_hint: None, None

        Button:
            text: "Songs"
            font_size: 30
            on_release: app.root.current = "songplayer"
            background_color: utils.get_color_from_hex('#0E2240')
            size: 800, 150
            size_hint: None, None



<SongPlayerScreen>:
    id: songplayer_screen
    name:"songplayer"
    GridLayout:
        cols: 1
        size: root.width, root.height


        FileChooserListView:
            id: filechooser
            rootpath: "./downloads"
            on_selection: songplayer_screen.selected(filechooser.selection)

        GridLayout:
            cols:2
            size: root.width, 100

            Button:
                text: "Play"
                font_size: 30
                on_release: songplayer_screen.play()
                background_color: utils.get_color_from_hex('#0E2240')
                size: 400, 100
                size_hint: None, None

            Button:
                text: "Stop"
                font_size: 30
                on_release: songplayer_screen.stop()
                background_color: utils.get_color_from_hex('#0E2240')
                size: 400, 100
                size_hint: None, None


        Button:
            text: "Download"
            font_size: 30
            on_release: app.root.current = "download"
            background_color: utils.get_color_from_hex('#0E2240')
            size: 800, 150
            size_hint: None, None

